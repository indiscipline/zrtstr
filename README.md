# zrtstr <img src="zrtstr.svg" align="right" alt="fzrtstr logo" width="20%"/>
[![License](https://img.shields.io/badge/license-GPLv2-blue.svg)](https://github.com/Indiscipline/zrtstr/blob/master/LICENSE)

Command line application for checking WAV-files for identical channels, detecting faux-stereo files generated by some audio-editing software and DAWs (such as old versions of Cubase). Outputs a true-mono WAV file on detection of faux-stereo. Takes left channel of the input file, writes in the same location with -MONO suffix in file name.

Developed using these wonderful crates:

**[Hound](https://github.com/ruuda/hound)**, **[Clap](https://github.com/kbknapp/clap-rs)**, **[pbr](https://github.com/a8m/pb)**

## Usage
Basically, provide zrtstr with input file as an argument, or run it from a directory full of target WAV files.

Full help available on `--help` switch.

Latest Windows **binaries** are luckily provided in [Releases](https://github.com/indiscipline/zrtstr/releases).

## How does it work?
Zrtstr reads interleaved channel samples from a target stereo file one by one and compares left and right samples. If the difference is present (or higher than the threshold given in `--dither` mode) than file considered true-stereo and program tries to write a mono copy.

## How to build
Developed on stable Rust.

To build the code, run:

```
$ cargo build --release
```

and the executable will be in `target/release/zrtstr`.

## TODO
Here are the current problems and planned features:
- [ ] **Float support**: Add writing support for IEEE Float files (upstream-dependent)
- [ ] **Add automatic tests**

## Contributing ##
The project is open for contributions. Any help and/or critique is appreciated.

Feel free to file a bug report or feature request via [Issues](https://github.com/Indiscipline/zrtstr/issues).

## License ##
**zrtstr** licensed under GNU General Public License version 2 or later;

See `LICENSE` file for full details.
